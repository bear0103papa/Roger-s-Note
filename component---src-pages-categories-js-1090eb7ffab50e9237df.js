"use strict";(self.webpackChunkgatsby_starter_blog=self.webpackChunkgatsby_starter_blog||[]).push([[131],{6007:function(e,t,a){a.r(t);var r=a(6540),l=a(4794),n=a(7249);t.default=e=>{let{data:t,location:a}=e;const[s,c]=r.useState(""),o=Array.from(new Set(t.allMarkdownRemark.nodes.flatMap((e=>e.frontmatter.categories||[])))).sort(),i=r.useMemo((()=>{if(!a.hash)return"";try{return decodeURIComponent(a.hash.slice(1))}catch(e){return console.error("解碼分類失敗:",e),""}}),[a.hash]),m=e=>{e?(0,l.navigate)(`/categories#${encodeURIComponent(e)}`):(0,l.navigate)("/categories")},u=t.allMarkdownRemark.nodes.filter((e=>{var t;const a=!i||(e.frontmatter.categories||[]).some((e=>e===i)),r=s.toLowerCase(),l=!s||e.frontmatter.title.toLowerCase().includes(r)||(null===(t=e.frontmatter.description)||void 0===t?void 0:t.toLowerCase().includes(r))||e.excerpt.toLowerCase().includes(r)||e.html.toLowerCase().includes(r);return a&&l}));return r.createElement(n.A,{location:a,title:"分類檢索"},r.createElement("div",{className:"categories-container"},r.createElement("div",{className:"search-box"},r.createElement("input",{type:"text",value:s,onChange:e=>c(e.target.value),placeholder:"搜尋全文...",className:"search-input"}),s&&r.createElement("button",{className:"clear-search",onClick:()=>c(""),"aria-label":"清除搜尋"},"×")),r.createElement("div",{className:"category-tags"},r.createElement("button",{className:i?"":"active",onClick:()=>m("")},"全部文章"),o.map((e=>r.createElement("button",{key:e,className:e===i?"active":"",onClick:()=>m(e)},e)))),r.createElement("div",{className:"search-results-count"},"找到 ",u.length," 篇文章"),r.createElement("div",{className:"posts-list"},u.map((e=>r.createElement("article",{key:e.fields.slug,className:"post-list-item"},r.createElement(l.Link,{to:e.fields.slug},r.createElement("h2",null,e.frontmatter.title),r.createElement("small",null,e.frontmatter.date),e.frontmatter.description&&r.createElement("p",null,e.frontmatter.description),s&&r.createElement("p",{className:"search-excerpt"},e.excerpt))))))))}},7249:function(e,t,a){a.d(t,{A:function(){return s}});var r=a(6540),l=a(4794);var n=()=>r.createElement("nav",{className:"site-navigation"},r.createElement("ul",{className:"nav-links"},r.createElement("li",null,r.createElement(l.Link,{to:"/",activeClassName:"active"},"首頁")),r.createElement("li",null,r.createElement(l.Link,{to:"/archive",activeClassName:"active"},"文章歸檔")),r.createElement("li",null,r.createElement(l.Link,{to:"/categories",activeClassName:"active"},"分類檢索")),r.createElement("li",{className:"rss-link"},r.createElement("a",{href:"/rss.xml",target:"_blank",rel:"noopener noreferrer",className:"rss-button"},r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"rss-icon"},r.createElement("path",{d:"M4 11a9 9 0 0 1 9 9"}),r.createElement("path",{d:"M4 4a16 16 0 0 1 16 16"}),r.createElement("circle",{cx:"5",cy:"19",r:"1"})),r.createElement("span",null,"訂閱 RSS")))));var s=e=>{let{location:t,title:a,children:s}=e;const c="/Roger-s-Note/"===(null==t?void 0:t.pathname);return r.createElement("div",{className:"global-wrapper","data-is-root-path":c},r.createElement("header",{className:"global-header"},r.createElement("div",{className:"site-title"},r.createElement(l.Link,{to:"/"},"Roger's Note"),r.createElement("div",{className:"site-subtitle"},"Investor, Operator, Philosopher")),r.createElement(n,null)),r.createElement("main",null,s),r.createElement("footer",{className:"site-footer"},"© ",(new Date).getFullYear()," Roger's Note"))}}}]);
//# sourceMappingURL=component---src-pages-categories-js-1090eb7ffab50e9237df.js.map